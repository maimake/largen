<?php

namespace <%=namespace%>;

use <%= search_full_classname %>;
use Maimake\Largen\Support\Http\Requests\SearchRequest;

class <%=classname%> extends SearchRequest
{
    protected $searchModelClass = <%= search_classname %>::class;

    //用于校验筛选的输入值
    public function rules()
    {
        return [
<% if has_user %>
            'searchModel.username' => 'nullable|string',
<% endif %>
<% for column in columns %>
            'searchModel.<%= column %>' => 'nullable|string',
<% endfor %>
            'sort' => 'string',
        ];
    }

    //数据字典。用于多选，单选的文本和value间映射
    protected function createEnumDic()
    {
        return [
            'status' => [
                '0' => '关闭',
                '1' => '开启',
            ]
        ];
    }


    //补充默认值
    protected function getRequestDataWithDefaultValue()
    {
        $data = parent::getRequestDataWithDefaultValue();

        return $data;
    }
}
